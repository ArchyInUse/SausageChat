<Controls:MetroWindow x:Name="Client" x:Class="SausageChatClient.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:Controls="clr-namespace:MahApps.Metro.Controls;assembly=MahApps.Metro"

        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:SausageChatClient"
        xmlns:messaging="clr-namespace:SausageChat.Core.Messaging;assembly=SausageChat.Core"
        mc:Ignorable="d"
        Title="Client_view" Height="642.507" Width="1074" ResizeMode="NoResize" >


  <Window.Resources>

    <Style TargetType="Button">
      <Setter Property="Background" Value="#FF419EEA"></Setter>
      <Setter Property="Foreground" Value="#FFFCFDFF"></Setter>
      <Setter Property="BorderBrush" Value="#FF008CFF" ></Setter>
      <Setter Property="BorderBrush" Value="#FF008CFF" ></Setter>
      <Setter Property="Height" Value="45"></Setter>
      <Setter Property="Width" Value="105"></Setter>
      <Setter Property="HorizontalContentAlignment" Value="Center"></Setter>

    </Style>




    <Style TargetType="ListBoxItem">
      <Setter Property="Background" Value="#FF419EEA"></Setter>
      <Setter Property="Foreground" Value="#FFFCFDFF"></Setter>
      <Setter Property="BorderBrush" Value="Transparent" ></Setter>
      <Setter Property="Height" Value="25" ></Setter>
      <Setter Property="Margin" Value="0"></Setter>



    </Style>


    <Style TargetType="{x:Type TreeViewItem}">
      <Setter Property="Foreground" Value="White"/>
      <Setter Property="Background" Value="#FF419EEA"/>
      <Setter Property="BorderBrush" Value="#FF008CFF"/>
    </Style>



    <DataTemplate DataType="{x:Type messaging:UserMessage}">
      <TextBlock  Text="{Binding}" Foreground="White" HorizontalAlignment="Left" />
    </DataTemplate>

    <DataTemplate DataType="{x:Type messaging:ServerMessage}">
      <TextBlock  Text="{Binding}" Foreground="Black" HorizontalAlignment="Center"/>
    </DataTemplate>


  </Window.Resources>

  <Grid x:Name="Grid_client_view" Background="#FF008CFF"   >
    <Grid.ColumnDefinitions>
      <!-- Define the columns for the grid -->

      <ColumnDefinition Width="255*" />
      <ColumnDefinition Width="592*"/>
      <!-- The first row.  -->
      <!-- The Second Column  -->
      <!-- The third column -->


      <ColumnDefinition Width="219*" />
      <!-- The Fourth column -->


    </Grid.ColumnDefinitions>

    <Grid.RowDefinitions>


      <!-- The First Row -->
      <!-- The Second Row -->



    </Grid.RowDefinitions>
    <!--
      
      <ListBoxItem Content="User1" Selected="ListBoxItem_Selected" Background="#FF419EEA" Foreground="#FFFCFDFF"/>
      <ListBoxItem Content="User2" Background="#FF419EEA" Foreground="#FFFCFDFF"/>
      -->
    <StackPanel Grid.Column="1" Margin="0,0,0,-53" Height="615">



      <ScrollViewer VerticalScrollBarVisibility="Auto" Grid.Column="1" Margin="5,-26,10,53" Height="535">
        <ItemsControl ItemsSource="{Binding Messages}" x:Name ="MessageListThingWORK" Background="#FF419EEA" Grid.Column="1" BorderBrush="#FF008CFF" Height="534" Margin="0,1,0,0"/>
      </ScrollViewer>
      <Button x:Name="Send_message_Button_client" Content="Send" Height="31" RenderTransformOrigin="0.542,1.415" Click="Send_message_Button_Click" Background="#FF419EEA" BorderBrush="#FF008CFF" Foreground="#FFFCFDFF" Padding="0" ScrollViewer.CanContentScroll="True" Margin="0,-7,22,-3" Width="111" VerticalAlignment="Bottom" HorizontalAlignment="Right" VerticalContentAlignment="Center" HorizontalContentAlignment="Center">
        <Button.RenderTransform>
          <TransformGroup>
            <ScaleTransform/>
            <SkewTransform/>
            <RotateTransform/>
            <TranslateTransform Y="-46" X="14"/>
          </TransformGroup>
        </Button.RenderTransform>
      </Button>
      <TextBox KeyDown="User_Message_client_Copy_KeyDown" Controls:TextBoxHelper.Watermark="Enter Message" x:Name="User_Message_client_Copy" TextWrapping="Wrap"  SpellCheck.IsEnabled="True" TextChanged="User_Message_client_TextChanged" Background="#FF419EEA" BorderBrush="#FF008CFF" Foreground="#FFFCFDFF" MinHeight="31" Panel.ZIndex="-2" Margin="5,-74,15,53" CaretBrush="#FF003BB0" RenderTransformOrigin="0.541,2.29" Height="31" VerticalAlignment="Bottom"/>

    </StackPanel>

    <StackPanel Margin="0,0,0,0" VerticalAlignment="Stretch"  HorizontalAlignment="Stretch" Height="auto">

      <Label Content="Select IP" HorizontalAlignment="Center" Margin="0,0,-60,0" VerticalAlignment="Top"  Width="120" Foreground="#FFFCFDFF" Height="26"/>

      <ComboBox x:Name="Select_IP_Combo_box" SelectedIndex="0" BorderBrush="#FF008CFF" IsReadOnly="True" IsDropDownOpen="True" Background="#FF419EEA" Foreground="White" Height="26" SelectionChanged="Select_IP_Combo_box_SelectionChanged" OpacityMask="#FF003BB0" Margin="0,0,0,40" VerticalAlignment="Top">

        <ComboBoxItem Content="Disco's IP" Background="#FF419EEA" Margin="0,0,-2,0" BorderBrush="#FF008CFF"/>
        <!-- This is index 0-->
        <ComboBoxItem Content="Monte's IP" Background="#FF419EEA" Margin="0,0,-2,0" BorderBrush="#FF008CFF" Foreground="White" OpacityMask="#FF003BB0"/>
        <!-- This is index 1-->
      </ComboBox>

      <Button  x:Name ="Connect_Button_Client"  Height="45" Margin="0,0,10,10"   Background="#FF419EEA" BorderBrush="#FF008CFF" Foreground="#FFFCFDFF" Click="Connect_Button_Client_Click" Width="Auto" Content="Connect" />

      <Button   Height="45" Margin="0,0,10,0"   Background="#FF419EEA" BorderBrush="#FF008CFF" Foreground="#FFFCFDFF" Click="Button_Click" Width="Auto" Content="Change Name" />
      <Button  x:Name="Ban_Button_client" Content="Ban" Height="45"  Width="Auto" Margin="0,10,10,0" Click="Ban_Button_client_Click"/>
      <Button x:Name="Mute_Button_client" Content="Mute"  Height="45" Width="Auto" Click="Mute_Button_Click" Margin="0,10,10,0"/>
      <Button x:Name="Kick_Button_client" Content="Kick" Margin="0,10,10,0" Width="Auto" Click="Kick_Button_client_Click"/>
      <Button x:Name="Info_button_client" Content="Info" Margin="0,10,10,0" Width="Auto" Click="Info_button_client_Click" />
      <Button x:Name="Freinds_button_client" Content="Friends" Margin="0,10,10,0" Width="Auto" Click="Freinds_button_client_Click" />
      <Button x:Name="Add_friend_button_client" Content="Add Friend" Margin="0,10,10,0" Width="Auto" Click="Add_Freind_button_client_Click" />
      <Label  VerticalContentAlignment="Center"  HorizontalContentAlignment="Center"  x:Name="Add_friend_button_client_Copy" Content="You are admin" Margin="0,10,10,0" Width="Auto" Height="45" Background="#FF419EEA" BorderBrush="#FF008CFF" Foreground="#FFFCFDFF"/>
    </StackPanel>

    <!-- If user is admin, have the button appear. If user is not admin. Then have button disappear.-->
    <TextBox Visibility="Hidden" x:Name="Debug_Textbox_for_Disco" Grid.Column="2" Margin="0,483,0,23" TextWrapping="Wrap" Text="TextBox" Background="#FF419EEA" BorderBrush="#FF008CFF" CaretBrush="#FF008CFF" Foreground="White" d:IsHidden="True"/>



    <StackPanel Grid.Column="2" Margin="0,0,-5,104" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Height="auto" Width="auto">
      <!--
      
      <ListBoxItem Content="User1" Selected="ListBoxItem_Selected" Background="#FF419EEA" Foreground="#FFFCFDFF"/>
      <ListBoxItem Content="User2" Background="#FF419EEA" Foreground="#FFFCFDFF"/>
      -->


      <Label  HorizontalContentAlignment="Center" Content="Friends List" Height="auto" Width="auto" VerticalAlignment="Top" Foreground="White" Margin="0,0,5,0"/>
      <TreeView x:Name="Freinds_List_view" Margin="0,29,7,12" Background="#FF419EEA" BorderBrush="#FF008CFF" Foreground="#FFFCFDFF" Height="auto" ScrollViewer.VerticalScrollBarVisibility="Visible">

        <TreeViewItem Header="Friends" IsExpanded="True" Background="#FF419EEA" BorderBrush="#FF008CFF" Foreground="#FFFCFDFF">

          <TreeViewItem Header="Online Friends" IsExpanded="True" Background="#FF419EEA" Foreground="#FFFCFDFF" ItemsSource="{Binding Friends[OnlineFriends]}"/>


          <TreeViewItem Header="Offline Friends" IsExpanded="True" Background="#FF419EEA" Foreground="#FFFCFDFF"  ItemsSource="{Binding Friends[Offlineusers]}"/>




        </TreeViewItem>


      </TreeView>
      <Label  HorizontalContentAlignment="Center" Content="List of users" Foreground="White" Margin="0,15,11,0" Height="auto" Width="auto"/>
      <ListBox    x:Name="User_List_client"  Height="auto"  Width="auto" Margin="0,17,8,0" SelectionChanged="ListBox_SelectionChanged"  ItemsSource="{Binding Users}" SelectedIndex="0" BorderBrush="Transparent" Foreground="White" OpacityMask="Red" Background="#FF419EEA" ScrollViewer.HorizontalScrollBarVisibility="Visible" ScrollViewer.VerticalScrollBarVisibility="Visible" Controls:ScrollViewerHelper.IsHorizontalScrollWheelEnabled="True" />

      <!--
      
      <ListBoxItem Content="User1" Selected="ListBoxItem_Selected" Background="#FF419EEA" Foreground="#FFFCFDFF"/>
      <ListBoxItem Content="User2" Background="#FF419EEA" Foreground="#FFFCFDFF"/>
      -->
      <!--
      
      <ListBoxItem Content="User1" Selected="ListBoxItem_Selected" Background="#FF419EEA" Foreground="#FFFCFDFF"/>
      <ListBoxItem Content="User2" Background="#FF419EEA" Foreground="#FFFCFDFF"/>
      -->
    </StackPanel>

  </Grid>
</Controls:MetroWindow>
